##<a name="1_Introduction" style="pointer-events: none; cursor: default;" ><font color="red"> 1. Introduction </font></a>


This report presents a statistical analysis of the wine quality dataset released by the Portuguese firm Vinho Verde. The aim is to classify sample qualities based on their physical-chemical properties.
In particular, the dataset is composed of eleven variables plus the wine typology, red or white, for a total of 6497 statistical units. 
The final goal is to predict the wine quality, expressed as an ordinal categorical variable in the range from 1 to 10.



```{r, fig.width=10, fig.height=4, echo=FALSE}
file = "results/EXPLORATORY_ANALYSES/quality_distr.Rdata"
load( file )
quality_distr
```

As we can see, the categories 5 and 6 are the most numerous and they alone account for the 76.6% of the whole sample.  This may be a problem when training since the model could learn to predict just the most represented classes.
For this reason, we try to balance the target variable by considering a binary version obtained as follows: 

$$ \begin{equation}
  \textit{binary_quality} = 
  \begin{cases}
   1 \textit{se quality} > 5  \\ 0  \textit{altrimenti}
   \end{cases}
\end{equation}$$


The pysical-chemical information available are contained in the following variables:

* Acidità fissa 
* Acidità volatile
* Acido citrico
* Zucchero residuo
* Cloruri
* Anidride solforosa libera
* Anidride solforosa totale
* Densità
* pH
* Solfati
* Alcol

As first insight, we may have a look at the variable's distributions:

```{r, fig.width=10, fig.height=4, echo=FALSE}
file = "results/EXPLORATORY_ANALYSES/variables_density.Rdata"
load( file )


p1 = plots[[1]]
p2 = plots[[2]]
p3 = plots[[3]]
p4 = plots[[4]]
p5 = plots[[5]]
p6 = plots[[6]]
p7 = plots[[7]]
p8 = plots[[8]]
p9 = plots[[9]]

multi_p = multiplot(p1, p2, p3, p4, p5, p6, p7, p8, p9, cols = 3 )



```

Although correlation does not mean causation, it makes sense to explore the dependency structure between the target variable and each of the predictors.

For this purpose, the correlation matrix computed on the whole dataset is reported below:

```{r, fig.width=10, fig.height=4, echo=FALSE}
file = "results/EXPLORATORY_ANALYSES/corrplot.Rdata"
load( file )
corrplot
```

The original quality (in its original format) is very poorly correlated with the predictors, and just in two cases we observe a linear correlation coefficient above 0.3 (alcohol and density).
On the other hand,  predictors appear highly linked to one another. In particular, the strongest relationships we can observe are:

* Free Solphur Dioxide - Total Solphur Dioxide (0.72)
* Density- Alcohol (-0.687)
* Density - Residual Sugar (0.553)

However, given the categorical nature of the variable Quality, would be more appropriate to study its correlation structure based on the Spearman coefficient rather than the Pearson one:

```{r, fig.width=10, fig.height=4, echo=FALSE}
file = "results/EXPLORATORY_ANALYSES/corr_Y.Rdata"
load( file )
corr_Y
```

The Spearman coefficient, $\rho$, measures the degree of relation between two ordinal categorical variables.
Unlike the Pearson coefficient, Spearman $\rho$ assumes just a monotonic relationship between the variables (not necessarily a linear one).



For more details on the dataset check:
https://www.kaggle.com/c/uci-wine-quality-dataset


The analyses presented in the following are conducted considering about 60% of the data as training set and the remaining 40% for testing.

